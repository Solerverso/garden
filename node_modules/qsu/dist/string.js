import{contains as t}from"./verify.js";import{numRandom as e}from"./math.js";export function trim(t){return"string"==typeof t||t?t.trim().replace(/\s{2,}/g," "):null}export function removeSpecialChar(t,e){return t?t.replace(new RegExp(`[^a-zA-Z가-힣ㄱ-ㅎㅏ-ㅣ0-9぀-ヿ㐀-䶿一-鿿豈-﫿ｦ-ﾟ${e??""}]`,"gi"),""):""}export function replaceBetween(t,e,r,n=""){if(!t)return"";const o=/[.*+?^${}()|[\]\\]/g,i=o.test(e)?`\\${e}`:e,l=o.test(r)?`\\${r}`:r;return t.replace(new RegExp(`${i}.*?${l}`,"g"),n)}export function removeNewLine(t,e=""){return t?t.replace(/(\r\n|\n|\r)/gm,e).trim():""}export function capitalizeFirst(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}export function capitalizeEverySentence(t,e){if(!t)return"";const r=e||".",n=t.split(r);let o,i="";for(let t=0,e=n.length;t<e;t+=1){o=[...n[t]];for(let e=0,r=o.length;e<r;e+=1)if(/[a-zA-Z]/.test(n[t][e])){o[e]=n[t][e].toUpperCase();break}i+=`${o.join("")}${t<e-1?r:""}`}return i}export function capitalizeEachWords(e,r){if(!e)return"";const n=e.trim().toLowerCase().split(" ");for(let e=0,o=n.length;e<o;e+=1)r&&t(n[e],["in","on","the","at","and","or","of","for","to","that","a","by","it","is","as","are","were","was","nor","an"],!0)||(n[e]=capitalizeFirst(n[e]));return capitalizeFirst(n.join(" "))}export function strCount(t,e){if(!t||!e)return 0;let r=0,n=t.indexOf(e);for(;n>-1;)r+=1,n=t.indexOf(e,n+=e.length);return r}export function strShuffle(t){return t?[...t].sort((()=>Math.random()-.5)).join(""):""}export function strRandom(t,e){const r=`abcdefghijklmnopqrstuvwxyz0123456789${e}`,n=r.length;let o,i="";for(let e=0;e<t;e+=1)o=r.charAt(Math.floor(Math.random()*n)),o=Math.random()<.5?o.toUpperCase():o,i+=o;return i}export function strBlindRandom(t,r,n="*"){if(!t)return"";let o=t,i=0,l=0,a=0;const c=o.length;for(;i<r&&a<c;)l=e(0,c),/[a-zA-Z가-힣]/.test(o.substring(l,l+1))&&(o=`${o.substring(0,l+1)}${n}${o.substring(l+2)}`,i+=1),a+=1;return o}export function truncate(t,e,r=""){if(!t)return"";let n=t;return t.length>e&&(n=t.substring(0,e)+r),n}export function truncateExpect(t,e,r="."){if(!t)return"";const n=t.slice(-1)===r,o=t.split(r),i=o.length;let l="",a=0;for(let t=0;t<i&&a<e;t+=1)l+=`${o[t]}${t!==i-1||n?r:""}`,a+=o[t].length+r.length;return l}export function split(t,...e){if(!t)return[];const r=e.length>0&&"object"==typeof e[0]?e[0]:e,n=r.length;let o="",i="";for(let t=0;t<n;t+=1){const e=r[t];e.length>1?i+=`${i.length<1?"":"|"}${e.replace(/\\/g,"\\\\").replace(/\[/g,"\\[").replace(/]/g,"\\]").replace(/\?/g,"\\?").replace(/\./g,"\\.").replace(/\{/g,"\\{").replace(/}/g,"\\}").replace(/\+/g,"\\+")}`:o+="-"===e||"["===e||"]"===e?`\\${e}`:e}return o.length<1&&i.length<1?[t]:(o.length>0&&(o=`[${o}]`,i.length>0&&(i=`|${i}`)),t.split(new RegExp(`${o}${i}+`,"gi")))}export function strToAscii(t){const e=[];for(let r=0;r<t.length;r+=1)e.push(t.charCodeAt(r));return e}export function strUnique(t){return t?[...new Set(t)].join(""):""}export function urlJoin(...t){if(!t)return"";const e=t.length;let r="",n=0;for(let o=0;o<e;o+=1)null!==t[o]&&void 0!==t[o]&&(0===n||t[o].startsWith("/")||t[o].startsWith("?")||t[o].startsWith("&")?r+=t[o]:r+=`/${t[o]}`,n+=1);return r.replace(/\/$/g,"")}